# foundry.toml
[profile.default]
src = "src"
out = "out"
libs = ["lib"]
test = "test"
script = "script"

# 关键：设置 remappings，让 import 能找到你的本地路径
remappings = [
  "v2-core/=src/v2-core/",
  "v2-periphery/=src/v2-periphery/",
  "@uniswap/v2-core/=src/v2-core/",
  "@uniswap/lib/=lib/solidity-lib/",
  "@openzeppelin/=lib/openzeppelin-contracts/",
  "forge-std/=lib/forge-std/src/",
]

# 多版本 Solidity 支持
auto_detect_solc = true

# 提升 gas limit（部署 Router 较耗 gas）
gas_limit = "30000000"

# 编译优化
optimizer = true
optimizer_runs = 200

# EVM 版本（兼容旧版合约）
evm_version = "istanbul"

# FFI 支持（如果需要）
ffi = false

# RPC 端点配置
[rpc_endpoints]
localhost = "http://127.0.0.1:8545"
sepolia = "${SEPOLIA_RPC_URL}"

# Etherscan 验证配置
[etherscan]
sepolia = { key = "${ETHERSCAN_API_KEY}" }